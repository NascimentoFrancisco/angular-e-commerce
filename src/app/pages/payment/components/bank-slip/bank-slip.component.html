<app-header-not-authenticated></app-header-not-authenticated>
<main>
    <div class="container">
        <form class="genereate_slip" [formGroup]="cpfForm" (ngSubmit)="onSubmit()">
            <h4>Gerar boleto</h4>
            <div class="input_cpf">
                <div class="conatiner_input">
                    <label for="cpf">Insira seu CPF</label>
                    <input 
                        type="text" 
                        id="cpf" 
                        name="cpf" 
                        formControlName="cpf" 
                        placeholder="00000000000"
                        maxlength="11"
                    >
                    @if (cpfForm.value.cpf && cpfForm.get('cpf')?.invalid) {
                        <small class="input_invalid">CPF iválido. Por favor insira um CPF válido!</small>
                    } @else if (cpfForm.value.cpf && cpfForm.get('cpf')?.valid){
                        <small class="input_valid">CPF válido! Tudo pronto para gerar seu boleto.</small>
                    }
                </div>
                <button type="submit" [disabled]="cpfForm.invalid" class="defautl_button">Gerar</button>
            </div> 
        </form>
        @if (pdfSrc) {
            <div class="slip_new">
                <iframe [src]="pdfSrc"></iframe>
            </div>
        }
    </div>
</main>
